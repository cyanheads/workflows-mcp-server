[
  {
    "name": "Standard Git Wrap-up Workflow",
    "version": "1.0.0",
    "description": "A comprehensive workflow to guide an agent through the standard process of reviewing, documenting, and committing changes in a Git repository. It includes steps for reviewing diffs, updating a CHANGELOG, and creating a well-formed commit.",
    "author": "DevOps Team",
    "created_date": "2025-06-13",
    "last_updated_date": "2025-06-13",
    "category": "Git Operations",
    "tags": [
      "git",
      "commit",
      "workflow",
      "documentation"
    ],
    "steps": [
      {
        "server": "git-mcp-server",
        "tool": "git_set_working_dir",
        "action": "set_directory",
        "params": {
          "path": "{{input.repository_path}}",
          "validateGitRepo": true
        },
        "description": "Set the session's working directory to the target Git repository."
      },
      {
        "server": "git-mcp-server",
        "tool": "git_status",
        "action": "get_status",
        "params": {},
        "description": "Check the initial status of the repository to identify any untracked or modified files."
      },
      {
        "server": "git-mcp-server",
        "tool": "git_diff",
        "action": "review_unstaged_changes",
        "params": {
          "includeUntracked": true
        },
        "description": "Review all unstaged changes and the content of any untracked files to prepare for the commit."
      },
      {
        "server": "git-mcp-server",
        "tool": "git_diff",
        "action": "review_staged_changes",
        "params": {
          "staged": true
        },
        "description": "Review all changes that have already been staged for the next commit."
      },
      {
        "server": "filesystem-mcp-server",
        "tool": "write_file",
        "action": "update_changelog",
        "params": {
          "path": "{{input.repository_path}}/CHANGELOG.md",
          "content": "{{input.changelog_entry}}"
        },
        "description": "Update the CHANGELOG.md file with a summary of the changes being committed. This will overwrite the file, so the changelog entry should contain the full desired content."
      },
      {
        "server": "git-mcp-server",
        "tool": "git_add",
        "action": "stage_changes",
        "params": {
          "files": [
            "CHANGELOG.md",
            "."
          ]
        },
        "description": "Stage the updated CHANGELOG.md and any other remaining modified files for the commit."
      },
      {
        "server": "git-mcp-server",
        "tool": "git_commit",
        "action": "create_commit",
        "params": {
          "message": "{{input.commit_message}}"
        },
        "description": "Commit the staged changes with a clear and descriptive message following Conventional Commits format."
      },
      {
        "server": "git-mcp-server",
        "tool": "git_status",
        "action": "get_final_status",
        "params": {},
        "description": "Run a final status check to ensure the working directory is clean after the commit."
      }
    ],
    "filePath": "categories/git_operations/git-wrapup-workflow.yaml"
  },
  {
    "name": "GitHub Issue to Branch Workflow",
    "version": "1.0.0",
    "description": "Creates a new Git branch from a GitHub issue. It fetches the issue title to generate a descriptive branch name, and then checks out the new branch.",
    "author": "DevOps Team",
    "created_date": "2025-06-13",
    "last_updated_date": "2025-06-13",
    "category": "GitHub Operations",
    "tags": [
      "git",
      "github",
      "branch",
      "issue"
    ],
    "steps": [
      {
        "server": "git-mcp-server",
        "tool": "git_set_working_dir",
        "action": "set_directory",
        "params": {
          "path": "{{input.repository_path}}",
          "validateGitRepo": true
        },
        "description": "Set the session's working directory to the target Git repository."
      },
      {
        "server": "github-mcp-server",
        "tool": "get_issue",
        "action": "get_issue_details",
        "params": {
          "owner": "{{input.owner}}",
          "repo": "{{input.repo}}",
          "issue_number": "{{input.issue_number}}"
        },
        "description": "Fetch the details of the specified GitHub issue."
      },
      {
        "server": "git-mcp-server",
        "tool": "git_branch",
        "action": "create_branch_from_issue",
        "params": {
          "mode": "create",
          "branchName": "feature/issue-{{steps.get_issue_details.output.number}}-{{steps.get_issue_details.output.title | slugify}}",
          "startPoint": "main"
        },
        "description": "Create a new branch with a name derived from the issue number and title."
      },
      {
        "server": "git-mcp-server",
        "tool": "git_checkout",
        "action": "checkout_new_branch",
        "params": {
          "branchOrPath": "feature/issue-{{steps.get_issue_details.output.number}}-{{steps.get_issue_details.output.title | slugify}}"
        },
        "description": "Switch to the newly created branch."
      }
    ],
    "filePath": "categories/github_operations/github-issue-to-branch-workflow.yaml"
  },
  {
    "name": "Iterative Research and Report Generation",
    "version": "1.0.0",
    "description": "A generic workflow that performs iterative research on a given topic using Perplexity and PubMed, writes a detailed research report using docwriter, and compiles it to a PDF. The agent executing this workflow is responsible for synthesizing content for the report sections.",
    "author": "Cline",
    "tags": [
      "research",
      "reporting",
      "pdf",
      "pubmed",
      "perplexity",
      "docwriter"
    ],
    "steps": [
      {
        "server": "perplexity-mcp-server",
        "tool": "perplexity_search",
        "action": "Initial Research",
        "description": "Perform an initial search on the research topic to get a broad overview and identify key concepts and sub-topics. The output serves as the foundation for the report's introduction.",
        "params": {
          "query": "{{researchTopic}}"
        }
      },
      {
        "server": "pubmed-mcp-server",
        "tool": "search_pubmed_articles",
        "action": "Gather Scientific Literature",
        "description": "Search PubMed for scientific articles related to the research topic to gather evidence, data, and citations.",
        "params": {
          "queryTerm": "{{researchTopic}}",
          "maxResults": 20,
          "fetchBriefSummaries": 10
        }
      },
      {
        "server": "docwriter-mcp-server",
        "tool": "docwriter_create_latex_document",
        "action": "Create Report Draft",
        "description": "Create a new research report document using the 'research_report' template. The agent should use the research topic to generate a suitable title and a unique documentId.",
        "params": {
          "title": "Research Report: {{researchTopic}}",
          "author": "{{author}}",
          "filename": "{{documentId}}",
          "template": "research_report"
        }
      },
      {
        "server": "docwriter-mcp-server",
        "tool": "docwriter_update_document_block",
        "action": "Populate Report Sections",
        "description": "Synthesize the information gathered from Perplexity and PubMed to populate all sections of the research report. The agent is responsible for generating the content for each block based on the research findings.",
        "params": {
          "documentId": "{{documentId}}",
          "blocks": [
            {
              "blockName": "abstract",
              "content": "{{abstractContent}}"
            },
            {
              "blockName": "introduction",
              "content": "{{introductionContent}}"
            },
            {
              "blockName": "methodology",
              "content": "{{methodologyContent}}"
            },
            {
              "blockName": "results",
              "content": "{{resultsContent}}"
            },
            {
              "blockName": "discussion",
              "content": "{{discussionContent}}"
            },
            {
              "blockName": "conclusion",
              "content": "{{conclusionContent}}"
            }
          ]
        }
      },
      {
        "server": "docwriter-mcp-server",
        "tool": "docwriter_compile_latex_to_pdf",
        "action": "Compile Final Report",
        "description": "Compile the final LaTeX document into a PDF, completing the research and reporting cycle. The resulting PDF will be located in the docwriter's data directory.",
        "params": {
          "documentId": "{{documentId}}"
        }
      }
    ],
    "created_date": "2025-06-19",
    "last_updated_date": "2025-06-19",
    "category": "Research Operations",
    "filePath": "categories/research-operations/iterative-research-and-report-generation-workflow.yaml"
  },
  {
    "name": "Dynamic PubMed Research & Visualization Synthesis",
    "version": "4.0.0",
    "description": "An advanced, adaptive workflow for executing sophisticated PubMed research and synthesizing findings into a real-time, interactive knowledge graph. This version emphasizes a structured, iterative research loop, data enrichment, and strategic analysis to build a deeply contextualized visual landscape of the literature.",
    "author": "cyanheads",
    "tags": [
      "pubmed",
      "cosmograph",
      "dynamic-research",
      "knowledge-graph",
      "synthesis",
      "iterative"
    ],
    "steps": [
      {
        "server": "cosmograph-mcp-server",
        "tool": "cosmograph_start_session",
        "action": "Phase 1: Initialize Visualization Environment",
        "description": "Bootstrap the visualization environment. This creates the interactive canvas for real-time synthesis of research data. The session must remain active throughout the workflow.",
        "params": {
          "openInBrowser": true
        }
      },
      {
        "server": "pubmed-mcp-server",
        "tool": "pubmed_research_agent",
        "action": "Phase 2: Formulate Strategic Research Blueprint",
        "description": "Architect the investigation. This is a critical strategic phase. Define a precise research goal and a set of initial, high-signal keywords. This blueprint is your mission brief; expect to deviate based on findings.",
        "params": {
          "project_title_suggestion": "Dynamic Synthesis of the [Your Topic] Literature",
          "primary_research_goal": "To construct a comprehensive knowledge graph illustrating the primary intellectual clusters, key influencers (articles/authors), and thematic evolution within the [Your Research Domain] literature.",
          "research_keywords": [
            "core-concept-1",
            "related-concept-2",
            "key-methodology-or-disease"
          ],
          "p1_specific_research_question": "What is the semantic structure of the conversation happening in the literature around [Your Topic]?",
          "p1_pubmed_search_strategy_description": "Employ an iterative, multi-pronged search strategy. Begin with defined keywords, then dynamically expand the search space using citation chaining (forwards and backwards) and similarity-based discovery on high-relevance articles."
        }
      },
      {
        "server": "pubmed-mcp-server",
        "tool": "search_pubmed_articles",
        "action": "Phase 3.1: Initial Data Ingress",
        "description": "Execute the initial foray into the literature based on your blueprint. This is your beachhead. The results from this step are the seed for deeper exploration. Analyze summaries to identify high-signal articles.",
        "params": {
          "queryTerm": "Your initial, well-formed PubMed query using boolean logic and MeSH terms",
          "maxResults": 20,
          "sortBy": "relevance",
          "fetchBriefSummaries": 20
        }
      },
      {
        "server": "pubmed-mcp-server",
        "tool": "fetch_pubmed_content",
        "action": "Phase 3.2: Seed Data Enrichment",
        "description": "Enrich the initial seed articles with detailed information. Fetch abstracts, authors, and publication details to create a rich dataset for the initial graph visualization. This detailed data is crucial for later analysis.",
        "params": {
          "pmids": "{{all_PMIDs_from_step_3.1}}",
          "detailLevel": "abstract_plus",
          "includeMeshTerms": true
        }
      },
      {
        "server": "cosmograph-mcp-server",
        "tool": "cosmograph_create_graph",
        "action": "Phase 3.3: Synthesize and Render Initial Graph",
        "description": "Translate the enriched seed data into a visual medium. This creates the foundational layer of your knowledge graph. A central node representing the core research topic is created, and all initial 'seed' articles are linked to it. This establishes the initial thematic landscape. Seed nodes are colored blue.",
        "params": {
          "nodes": [
            {
              "id": "research_topic",
              "label": "{{p1_specific_research_question_from_step_2}}",
              "color": "#E53935",
              "size": 20
            },
            {
              "id": "{{PMID_from_step_3.2}}",
              "label": "{{Article_Title_from_step_3.2}}",
              "color": "#42A5F5"
            }
          ],
          "links": [
            {
              "source": "{{PMID_from_step_3.2}}",
              "target": "research_topic",
              "label": "seed_article"
            }
          ]
        }
      },
      {
        "server": "pubmed-mcp-server",
        "tool": "get_pubmed_article_connections",
        "action": "Phase 4.1 (Loop Start): Iterative Network Expansion",
        "description": "This is the start of the core research loop. **Your task as the agent is to analyze the current graph and strategically select the next node to expand.** 1.  **Analyze the Graph**: Identify nodes that are highly connected, central to a cluster, or particularly relevant to the core research question. 2.  **Select a Strategy**: Based on your analysis, choose a `relationshipType`. Use 'pubmed_citedin' to find influential papers, 'pubmed_references' to uncover foundational work, or 'pubmed_similar_articles' to broaden thematic clusters. 3.  **Execute**: Call this tool with the prioritized PMID and the chosen relationship type. This step should be repeated to build out the graph iteratively.",
        "params": {
          "sourcePmid": "{{a_highly_relevant_PMID_from_the_current_graph}}",
          "relationshipType": "{{'pubmed_citedin' | 'pubmed_references' | 'pubmed_similar_articles'}}",
          "maxRelatedResults": 15
        }
      },
      {
        "server": "pubmed-mcp-server",
        "tool": "fetch_pubmed_content",
        "action": "Phase 4.2: Expansion Data Enrichment",
        "description": "Enrich the newly discovered articles from the expansion. Fetch their full details to ensure every new node added to the graph is information-rich.",
        "params": {
          "pmids": "{{all_PMIDs_from_step_4.1}}",
          "detailLevel": "abstract_plus",
          "includeMeshTerms": true
        }
      },
      {
        "server": "cosmograph-mcp-server",
        "tool": "cosmograph_add_elements",
        "action": "Phase 4.3: Augment Graph with Expanded Network",
        "description": "Integrate the enriched findings from the expansion into the visualization. This is where the graph breathes and grows. Each new article is added as a node, and a labeled link is created from the source article, clearly showing the relationship (e.g., 'cited by', 'references', 'similar to'). Use distinct visual cues for each expansion 'hop' to represent the growth of your understanding (e.g., Hop 1 nodes are yellow, Hop 2 are green).",
        "params": {
          "nodes": [
            {
              "id": "{{Connected_PMID_from_step_4.2}}",
              "label": "{{Connected_Article_Title_from_step_4.2}}",
              "color": "#FFEE58"
            }
          ],
          "links": [
            {
              "source": "{{sourcePmid_from_step_4.1}}",
              "target": "{{Connected_PMID_from_step_4.2}}",
              "label": "{{relationshipType_from_step_4.1}}",
              "color": "#BDBDBD",
              "width": 2
            }
          ]
        }
      },
      {
        "server": "cosmograph-mcp-server",
        "tool": "cosmograph_fit_view",
        "action": "Phase 4.4 (Loop End): Reframe, Analyze, and Decide",
        "description": "This is the end of one loop iteration. After reframing the view, you must perform a strategic review. **Your task as the agent is to decide the next action:** 1.  **Analyze the new graph structure**: Look for emerging clusters, new central nodes, and gaps in the research landscape. 2.  **Evaluate against the goal**: Does the graph sufficiently answer the research question? 3.  **Decide**:\n    - **CONTINUE**: If more exploration is needed, identify the next set of nodes to prioritize and return to step 4.1.\n    - **CONCLUDE**: If the graph is sufficiently rich or the research goal is met, proceed to the final phase to synthesize your findings for the user.",
        "params": {}
      },
      {
        "server": "ntfy-mcp-server",
        "tool": "send_ntfy",
        "action": "Phase 5: Final Synthesis and Notification",
        "description": "The iterative research is complete. Your final task is to synthesize the findings from the visual knowledge graph and present them to the user. 1.  **Summarize Key Findings**: Describe the main thematic clusters, identify the most influential papers (based on connectivity), and explain the overall structure of the literature as revealed by the visualization. 2.  **Notify the User**: Send a notification that the research is complete, including a link to the interactive graph and a brief summary of the key insight. 3.  **Present Full Report**: Use `attempt_completion` to provide the detailed summary report.",
        "params": {
          "topic": "ATLAS",
          "title": "PubMed Research Synthesis Complete",
          "message": "Analysis of '[Your Topic]' is finished. Key clusters identified around [Cluster 1] and [Cluster 2]. Most influential article appears to be PMID [PMID]. View the full interactive graph.",
          "click": "http://127.0.0.1:5173",
          "tags": [
            "bar_chart",
            "tada"
          ]
        }
      }
    ],
    "filePath": "categories/research-visualization/pubmed-research-with-cosmograph-visualization-workflow.yaml"
  },
  {
    "name": "Comprehensive PubMed Research and Report Generation",
    "version": "1.0.2",
    "description": "Performs a multi-stage, recursive-style PubMed search to build a comprehensive research report. It identifies top-tier articles, conducts a 'deep dive' to find related works, sets a filesystem context, and generates a polished, structured markdown report. This workflow is ideal for initial discovery and literature review phases.",
    "author": "Advanced Research Division",
    "created_date": "2025-06-13",
    "last_updated_date": "2025-06-13",
    "category": "Research Operations",
    "tags": [
      "pubmed",
      "research",
      "deep-dive",
      "reporting",
      "literature-review"
    ],
    "steps": [
      {
        "name": "initial_search",
        "server": "pubmed-mcp-server",
        "tool": "search_pubmed_articles",
        "description": "Executes a broad search on PubMed to gather an initial set of relevant articles. The `queryTerm` should be crafted to capture the core concepts of the research topic. This step provides the foundational PMIDs for the deep dive.",
        "params": {
          "queryTerm": "{{input.query_term}}",
          "maxResults": 15,
          "fetchBriefSummaries": 15
        }
      },
      {
        "name": "fetch_top_articles_details",
        "server": "pubmed-mcp-server",
        "tool": "fetch_pubmed_content",
        "description": "Fetches comprehensive details (title, abstract, authors, journal, DOI) for the articles identified in the initial search. This content forms the core of the final report.",
        "params": {
          "pmids": "{{steps.initial_search.output.pmids}}",
          "detailLevel": "abstract_plus"
        }
      },
      {
        "name": "find_related_articles",
        "server": "pubmed-mcp-server",
        "tool": "get_pubmed_article_connections",
        "description": "Performs a 'deep dive' by finding articles similar to the top results from the initial search. This step is crucial for uncovering related research and adding depth to the report. It iterates over the top 3 articles.",
        "forEach": "{{steps.fetch_top_articles_details.output.results | slice: 0, 3}}",
        "params": {
          "sourcePmid": "{{item.pmid}}",
          "relationshipType": "pubmed_similar_articles",
          "maxRelatedResults": 5
        }
      },
      {
        "name": "fetch_related_articles_details",
        "server": "pubmed-mcp-server",
        "tool": "fetch_pubmed_content",
        "description": "Fetches details for the similar articles discovered in the 'deep dive' step. This populates the report with a second layer of relevant literature.",
        "forEach": "{{steps.find_related_articles.output}}",
        "params": {
          "pmids": "{{item.linkset[0].links}}",
          "detailLevel": "abstract_plus"
        }
      },
      {
        "name": "configure_filesystem_context",
        "server": "filesystem-mcp-server",
        "tool": "set_filesystem_default",
        "description": "Sets the absolute root path for all subsequent filesystem operations. This ensures that relative paths, like the report output path, are resolved correctly and consistently, making the workflow self-contained and removing reliance on session state.",
        "params": {
          "path": "{{input.project_root_path}}"
        }
      },
      {
        "name": "compile_report",
        "server": "filesystem-mcp-server",
        "tool": "write_file",
        "description": "Generates the final, polished markdown report. It intelligently structures the data from all previous steps into a readable and professional document, including a summary, top articles, and the deep dive results.",
        "params": {
          "path": "reports/pubmed-research-report-{{input.query_term | slugify}}-{{now | date: 'YYYY-MM-DD'}}.md",
          "content": "# Comprehensive PubMed Research Report\n\n**Generated:** {{now | date: \"MMMM Do, YYYY HH:mm Z\"}}\n**Primary Query:** `{{input.query_term}}`\n\n## Executive Summary\n\nThis report summarizes an automated, in-depth literature search conducted on the PubMed database. It includes an initial set of top-ranking articles related to the primary query, followed by a 'deep dive' into closely related publications. The goal is to provide a foundational understanding of the current research landscape for the specified topic.\n\n---\n\n## 1. Top-Ranked Articles\n\nThe following articles were identified as most relevant in the initial search.\n\n{{#each steps.fetch_top_articles_details.output.results}}\n### 1.{{@index + 1}} {{this.title}}\n\n- **Authors:** {{#each this.authors}}{{this.name}}{{#unless @last}}, {{/unless}}{{/each}}\n- **Journal:** {{this.journalInfo.journal.title}} ({{this.journalInfo.publicationYear}})\n- **PMID:** `{{this.pmid}}`\n- **DOI:** [{{this.doi}}](https://doi.org/{{this.doi}})\n\n**Abstract:**\n> {{this.abstract | replace: '\\n', '\\n> '}}\n\n---\n{{/each}}\n\n## 2. Deep Dive: Related Publications\n\nFor each of the top 3 articles, a search for similar publications was conducted.\n\n{{#each steps.find_related_articles.output}}\n### 2.{{@index + 1}} Publications Related to \"{{this.sourceArticleTitle}}\" (PMID: {{this.sourcePmid}})\n\n{{#if (lookup ../steps.fetch_related_articles_details.output @index)}}\n  {{#each (lookup ../steps.fetch_related_articles_details.output @index).results}}\n#### 2.{{../@index + 1}}.{{@index + 1}} {{this.title}}\n\n- **Authors:** {{#each this.authors}}{{this.name}}{{#unless @last}}, {{/unless}}{{/each}}\n- **Journal:** {{this.journalInfo.journal.title}} ({{this.journalInfo.publicationYear}})\n- **PMID:** `{{this.pmid}}`\n- **DOI:** [{{this.doi}}](https://doi.org/{{this.doi}})\n\n**Abstract:**\n> {{this.abstract | replace: '\\n', '\\n> '}}\n\n  {{/each}}\n{{else}}\n*No related articles found or an error occurred while fetching details.*\n{{/if}}\n---\n{{/each}}\n\n## End of Report\n"
        }
      }
    ],
    "filePath": "categories/research_operations/pubmed-research-workflow.yaml"
  },
  {
    "name": "Final Response Test Workflow",
    "version": "1.0.0",
    "description": "A test to verify the new response format.",
    "author": "Cline",
    "steps": [
      {
        "server": "test-server",
        "tool": "test-tool",
        "params": {
          "message": "Final test"
        }
      }
    ],
    "created_date": "2025-06-21",
    "last_updated_date": "2025-06-21",
    "category": "Testing",
    "filePath": "categories/testing/final-response-test-workflow-workflow.yaml"
  },
  {
    "name": "Permanent Overwrite Test",
    "version": "1.0.0",
    "description": "This should fail now.",
    "author": "Cline",
    "steps": [
      {
        "server": "test-server",
        "tool": "test-tool",
        "params": {
          "message": "Version 3"
        }
      }
    ],
    "created_date": "2025-06-21",
    "last_updated_date": "2025-06-21",
    "category": "Testing",
    "filePath": "categories/testing/permanent-overwrite-test-workflow.yaml"
  },
  {
    "name": "Website Content Scraper and Archiver",
    "version": "1.0.0",
    "description": "Scrapes the main content of a given URL and saves it as a markdown file for archival or analysis.",
    "author": "Content Team",
    "created_date": "2025-06-13",
    "last_updated_date": "2025-06-13",
    "category": "Web Operations",
    "tags": [
      "web",
      "scrape",
      "archive",
      "firecrawl"
    ],
    "steps": [
      {
        "server": "firecrawl-mcp-server",
        "tool": "firecrawl_scrape",
        "action": "scrape_website",
        "params": {
          "url": "{{input.url}}",
          "formats": [
            "markdown"
          ],
          "onlyMainContent": true
        },
        "description": "Scrape the main content of the specified URL in markdown format."
      },
      {
        "server": "filesystem-mcp-server",
        "tool": "write_file",
        "action": "save_scraped_content",
        "params": {
          "path": "scraped_content_{{input.url | slugify}}.md",
          "content": "{{steps.scrape_website.output.markdown}}"
        },
        "description": "Save the scraped markdown content to a local file."
      }
    ],
    "filePath": "categories/web_operations/website-scraper-workflow.yaml"
  }
]